<h1>Reconnaissance</h1>
<p>Nous commençons notre challenge par un scan Nmap.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/nmap.PNG">
<figcaption>Scan Nmap</figcaption>
<h1>Enumération</h1>
<h2>Serveurs Web</h2>
<p>Le résultat du scan Nmap révèle l'existance de deux serveurs Web :</p>
<ul>
	<li>Apache : Port 80</li>
	<li>Tomcat : Port 8080</li>
</ul>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/Website80.PNG>
<figcaption>Page Web - Serveur Apache</figcaption>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/Website8080.PNG>
<figcaption>Page Web - Serveur Tomcat</figcaption>
<p>Grâce à Gobuster, nous allons énumérer l'ensemble des répertoires présents sur le serveur Apache.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/Gobuster.PNG>
<figcaption>Gobuster</figcaption>
<p>Nous venons de découvrir le répertoire "development".</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/development.PNG>
<figcaption>Répertoire development</figcaption>
<p>Les documents trouvés font état d'echangances entre un certain K et J.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/mainChallenge/TryHackMe/BasicPentesting/images/dev.PNG>
<figcaption>Contenu de dev.txt</figcaption>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/j.PNG>
<figcaption>Contenu de j.txt</figcaption>
<p>Visiblement, le mot de passe de J est peu robuste. Il nous reste plus qu'à retrouver le nom de J avant de tenter une possible attaque par Force-Brute.</p>
<h2>Serveur Samba</h2>
<p>Nous avons aussi trouvé un serveur Samba pour lequel nous avons réussi à soutirer un document mentionnant le nom de J</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/smbclient-L.PNG>
<figcaption>Enumération du serveur Samba</figcaption>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/smbclient-U.PNG>
<figcaption>Récupération du fichier staff.txt</figcaption>
<p>D'après le document staff.txt, la personne J répond au nom de <strong>Jan</strong></p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/staff.PNG>
<h1>Exploitation</h1>
<p>A présent, nous pouvons tenter de mener une attaque par Force-Brute contre l'utilisateur Jan. Nous utilisons Hydra en vue de retrouver un mot de passe d'accès pour une connexion SSH</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/hydra.PNG>
<figcaption>Attaque par Force-Brute - Hydra</figcaption>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/access_jan.PNG>
<figcaption>Accès à la session de Jan</figcaption>
<h1>Escalade de privilège</h1>
<p>Après quelques recherches, nous savons que K se nomme Kay. Nous avons aussi trouvé une clé privé en son nom afin d'initier une connexion SSH.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/rsa_kay.PNG>
<figcaption>Clé privée de Kay</figcaption>
<p>Cette clé est protégée et ne peut être exploitable en l'état. Nous allons devoir utiliser ssh2john combiné à JohnTheRipepr afin de retrouver le mot de passe de protection.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/ssh2john.PNG>
<figcaption>Clé privée adaptée pour JohnTheRipper</figcaption>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/rsa_cracked.PNG>
<figcaption>Clé privée crackée</figcaption>
<p>Il ne nous reste plus qu'à intier une connexion SSH avec l'utilisateur Kay.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/access_kay.PNG>
<figcaption>Accès à la session de Kay</figcaption>
<p>Nous découvrons l'existance d'un fichier .bak mentionnant le mot de passe de Kay. Nous pouvons alors lister les droits sudoers accordés pour Kay.</p>
<img src="https://github.com/H4shVulca1n/Cyber/blob/main/Challenge/TryHackMe/BasicPentesting/images/rooted.PNG>
<figcaption>Accès root</figcaption>
<p>On constate que nous venons de gagner les pleins pouvoirs sur la machine cible.</p>


